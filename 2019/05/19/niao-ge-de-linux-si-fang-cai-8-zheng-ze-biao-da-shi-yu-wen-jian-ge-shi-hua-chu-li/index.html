<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Linux(8)-正则表达式与文件格式化处理, Algorithm">
    <meta name="description" content>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Linux(8)-正则表达式与文件格式化处理 | Jason Jin</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Jason Jin</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Jason Jin</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/Jinzhengxu" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/Jinzhengxu" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/13.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Linux(8)-正则表达式与文件格式化处理</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Linux/">
                                <span class="chip bg-color">Linux</span>
                            </a>
                        
                            <a href="/tags/正则表达式/">
                                <span class="chip bg-color">正则表达式</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-05-19
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>简单的说,正则表达式就是用在字符串的处理上面的一项『表示式』。正则表达式并不是一个工具程序,而是一个字符串处理的标准依据,如果您想要以正则表达式的方式处理字符串,就得要使用支持正则表达式的工具程序才行, 这类的工具程序很多,例如 vi, sed, awk 等等。</p>
<p><strong><em>正则表达式与通配符是完全不一样的东西</em></strong> ,通配符 (wildcard) 代表的是 bash 操作接口的一个功能』,但正则表达式则是一种字符串处理的表示方式</p>
<h4 id="什么是正则表达式"><a href="#什么是正则表达式" class="headerlink" title="什么是正则表达式"></a>什么是正则表达式</h4><p>正则表达式就是处理字符串的方法,他是以行为单位来进行字符串的处理行为, 正则表达式透过一些特殊符号的辅助,可以让使用者轻易的达到『搜寻/删除/取代』某特定字符串的处理程序。</p>
<p>正则表达式基本上是一种『表示法』, 只要工具程序支持这种表示法,那么该工具程序就可以用来作为正则表达式的字符串处理之用。</p>
<ul>
<li>正则表达式对于系统管理员的用途</li>
</ul>
<p>系统的『错误讯息登录文件』 的内容记载了系统产生的所有讯息,包含系统是否被『入侵』的记录数据。但是系统的数据量太大了,系统管理员每天要接受海量讯息数据, 从千百行的资料<br>里面找出一行有问题的讯息,这个时候,就可以透过『正则表达式』的功能,将这些登录的信息进行处理, 仅取出『有问题』的信息来进行分析。</p>
<ul>
<li>正则表达式的广泛用途</li>
</ul>
<p>目前两大邮件服务器软件 sendmail与 postfix 以及支持邮件服务器的相关分析软件,都支持正则表达式的比对功能</p>
<ul>
<li>正则表达式与 Shell 在 Linux 当中的角色定位</li>
</ul>
<p>正则表达式,与前一章的 BASH 就有点像是数学的九九表一样,是 Linux 基础当中的基础,虽然也是最难的部分，不论是对于系统的认识与系统的管理部分,他都有很棒的辅助</p>
<ul>
<li>延伸的正则表达式</li>
</ul>
<p>正则表达式的字符串表示方式依照不同的严谨度而分为: 基础正则表达式与延伸正则表达式。</p>
<p>延伸型正则表达式除了简单的一组字符串处理之外,还可以作群组的字符串处理, 例如进行搜寻 Jason 或 netman 或 lman 的搜寻,注意,是『或(or)』而不是『和(and)』的处理, 此时就需要延伸正则表达式的帮助啦!藉由特殊的『 ( 』与『 | 』等字符的协助, 就能够达到这样的目的。</p>
<h4 id="基础正则表达式"><a href="#基础正则表达式" class="headerlink" title="基础正则表达式"></a>基础正则表达式</h4><p>既然正则表达式是处理字符串的一种表示方式,那么对字符排序有影响的 <strong><em>语系数据</em></strong> 就会对正则表达式的结果有影响。</p>
<h5 id="语系对正则表达式的影响"><a href="#语系对正则表达式的影响" class="headerlink" title="语系对正则表达式的影响"></a>语系对正则表达式的影响</h5><p>同语系的编码数据并不相同,所以就会造成数据截取结果的差异。</p>
<p>For example</p>
<pre><code>LANG=C     时:0 1 2 3 4 ... A B C D ... Z a b c d ...z
LANG=zh_TW 时:0 1 2 3 4 ... a A b B c C d D ... z Z</code></pre><p>使用 [A-Z] 时, 会发现 LANG=C 确实可以仅捉到大写字符 (因为是连续的) ,但是如果LANG=zh_TW.big5 时,连同小写的 b-z 也会被截取出来。</p>
<p><strong><em>使用正则表达式时,需要特别留意当时环境的语系为何, 否则可能会发现与别人不相同的撷取结果</em></strong></p>
<h6 id="特殊符号表："><a href="#特殊符号表：" class="headerlink" title="特殊符号表："></a>特殊符号表：</h6><table>
<thead>
<tr>
<th>特殊符号</th>
<th>代表意义</th>
</tr>
</thead>
<tbody><tr>
<td>[:alnum:]</td>
<td>代表英文大小写字符及数字,亦即 0-9, A-Z, a-z</td>
</tr>
<tr>
<td>[:alpha:]</td>
<td>代表任何英文大小写字符,亦即 A-Z, a-z</td>
</tr>
<tr>
<td>[:blank:]</td>
<td>代表空格键与 [Tab] 按键两者</td>
</tr>
<tr>
<td>[:cntrl:]</td>
<td>代表键盘上面的控制按键,亦即包括 CR, LF, Tab, Del.. 等等</td>
</tr>
<tr>
<td>[:digit:]</td>
<td>代表数字而已,亦即 0-9</td>
</tr>
<tr>
<td>[:graph:]</td>
<td>除了空格符 (空格键与 [Tab] 按键) 外的其他所有按键</td>
</tr>
<tr>
<td>[:lower:]</td>
<td>代表小写字符,亦即 a-z</td>
</tr>
<tr>
<td>[:print:]</td>
<td>代表任何可以被打印出来的字符</td>
</tr>
<tr>
<td>[:punct:]</td>
<td>代表标点符号 (punctuation symbol),亦即:” ‘ ? ! ; : # $…</td>
</tr>
<tr>
<td>[:upper:]</td>
<td>代表大写字符,亦即 A-Z</td>
</tr>
<tr>
<td>[:space:]</td>
<td>任何会产生空白的字符,包括空格键, [Tab], CR 等等</td>
</tr>
<tr>
<td>[:xdigit:]</td>
<td>代表 16 进位的数字类型,因此包括: 0-9, A-F, a-f 的数字与字符</td>
</tr>
</tbody></table>
<h5 id="grep的一线高级选项"><a href="#grep的一线高级选项" class="headerlink" title="grep的一线高级选项"></a>grep的一线高级选项</h5><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token punctuation">[</span>-A<span class="token punctuation">]</span> <span class="token punctuation">[</span>-B<span class="token punctuation">]</span> <span class="token punctuation">[</span>--color<span class="token operator">=</span>auto<span class="token punctuation">]</span> <span class="token string">'搜寻字符串'</span> filename
选项与参数:
-A :后面可加数字,为 after 的意思,除了列出该行外,后续的 n 行也列出来<span class="token punctuation">;</span>
-B :后面可加数字,为 befer 的意思,除了列出该行外,前面的 n 行也列出来<span class="token punctuation">;</span>
--color<span class="token operator">=</span>auto 可将正确的那个撷取数据列出颜色

$ <span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> inteldrmfb
<span class="token punctuation">[</span>    2.972950<span class="token punctuation">]</span> fb: switching to inteldrmfb from EFI VGA
<span class="token punctuation">[</span>    3.263535<span class="token punctuation">]</span> fbcon: inteldrmfb <span class="token punctuation">(</span>fb0<span class="token punctuation">)</span> is primary device
<span class="token punctuation">[</span>    3.263601<span class="token punctuation">]</span> i915 0000:00:02.0: fb0: inteldrmfb frame buffer device
<span class="token comment" spellcheck="true"># dmesg 可列出核心产生的讯息!包括硬件侦测的流程也会显示出来。</span>
<span class="token comment" spellcheck="true"># 使用的显卡是 inteldrmfb 核显,透过 grep 来 inteldrmfb的相关信息,可发现如上信息。</span>
$ <span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> -n --color<span class="token operator">=</span>auto <span class="token string">'inteldrmfb'</span>
910:<span class="token punctuation">[</span>    2.972950<span class="token punctuation">]</span> fb: switching to inteldrmfb from EFI VGA
926:<span class="token punctuation">[</span>    3.263535<span class="token punctuation">]</span> fbcon: inteldrmfb <span class="token punctuation">(</span>fb0<span class="token punctuation">)</span> is primary device
928:<span class="token punctuation">[</span>    3.263601<span class="token punctuation">]</span> i915 0000:00:02.0: fb0: inteldrmfb frame buffer device
<span class="token comment" spellcheck="true">#除了 inteldrmfb 会有特殊颜色来表示之外,最前面还有行号,其实颜色显示已经是默认在 alias 当中了!</span>
$ <span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> -n -A3 -B2 --color<span class="token operator">=</span>auto <span class="token string">'inteldrmfb'</span>
908-<span class="token punctuation">[</span>    2.972948<span class="token punctuation">]</span> <span class="token punctuation">[</span>drm<span class="token punctuation">]</span> Memory usable by graphics device <span class="token operator">=</span> 4096M
909-<span class="token punctuation">[</span>    2.972950<span class="token punctuation">]</span> checking generic <span class="token punctuation">(</span>b0000000 e10000<span class="token punctuation">)</span> vs hw <span class="token punctuation">(</span>b0000000 10000000<span class="token punctuation">)</span>
910:<span class="token punctuation">[</span>    2.972950<span class="token punctuation">]</span> fb: switching to inteldrmfb from EFI VGA
911-<span class="token punctuation">[</span>    2.972961<span class="token punctuation">]</span> Console: switching to colour dummy device 80x25
912-<span class="token punctuation">[</span>    2.973096<span class="token punctuation">]</span> <span class="token punctuation">[</span>drm<span class="token punctuation">]</span> Replacing VGA console driver
913-<span class="token punctuation">[</span>    2.979952<span class="token punctuation">]</span> <span class="token punctuation">[</span>drm<span class="token punctuation">]</span> Supports vblank timestamp caching Rev 2 <span class="token punctuation">(</span>21.10.2013<span class="token punctuation">)</span>.
--
924-<span class="token punctuation">[</span>    2.995577<span class="token punctuation">]</span> usb 1-8: SerialNumber: 0001
925-<span class="token punctuation">[</span>    3.124110<span class="token punctuation">]</span> usb 1-9: new full-speed USB device number 4 using xhci_hcd
926:<span class="token punctuation">[</span>    3.263535<span class="token punctuation">]</span> fbcon: inteldrmfb <span class="token punctuation">(</span>fb0<span class="token punctuation">)</span> is primary device
927-<span class="token punctuation">[</span>    3.263578<span class="token punctuation">]</span> Console: switching to colour frame buffer device 320x90
928:<span class="token punctuation">[</span>    3.263601<span class="token punctuation">]</span> i915 0000:00:02.0: fb0: inteldrmfb frame buffer device
929-<span class="token punctuation">[</span>    3.277635<span class="token punctuation">]</span> usb 1-9: New USB device found, idVendor<span class="token operator">=</span>06cb, idProduct<span class="token operator">=</span>009a
930-<span class="token punctuation">[</span>    3.277636<span class="token punctuation">]</span> usb 1-9: New USB device strings: Mfr<span class="token operator">=</span>0, Product<span class="token operator">=</span>0, SerialNumber<span class="token operator">=</span>1
931-<span class="token punctuation">[</span>    3.277637<span class="token punctuation">]</span> usb 1-9: SerialNumber: 727eb8862574
<span class="token comment" spellcheck="true">#在关键词所在行的前两行与后三行也一起捉出来显示</span></code></pre>
<p>grep 在数据中查寻一个字符串时,是以 “整行” 为单位来进行的。</p>
<h5 id="基础正则表达式练习"><a href="#基础正则表达式练习" class="headerlink" title="基础正则表达式练习"></a>基础正则表达式练习</h5><p>使用命令下载数据</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">wget</span> http://linux.vbird.org/linux_basic/0330regularex/regular_express.txt</code></pre>
<p>前提：</p>
<ul>
<li>语系已经使用『 export LANG=C; export LC_ALL=C 』的设定值;</li>
<li>grep 已经使用 alias 设定成为『 grep –color=auto 』</li>
</ul>
<pre class=" language-bash"><code class="language-bash">$ locale
LANG<span class="token operator">=</span>en_US.UTF-8
LANGUAGE<span class="token operator">=</span>
LC_CTYPE<span class="token operator">=</span><span class="token string">"en_US.UTF-8"</span>
LC_NUMERIC<span class="token operator">=</span>zh_CN.UTF-8
LC_TIME<span class="token operator">=</span>zh_CN.UTF-8
LC_COLLATE<span class="token operator">=</span><span class="token string">"en_US.UTF-8"</span>
LC_MONETARY<span class="token operator">=</span>zh_CN.UTF-8
LC_MESSAGES<span class="token operator">=</span><span class="token string">"en_US.UTF-8"</span>
LC_PAPER<span class="token operator">=</span>zh_CN.UTF-8
LC_NAME<span class="token operator">=</span>zh_CN.UTF-8
LC_ADDRESS<span class="token operator">=</span>zh_CN.UTF-8
LC_TELEPHONE<span class="token operator">=</span>zh_CN.UTF-8
LC_MEASUREMENT<span class="token operator">=</span>zh_CN.UTF-8
LC_IDENTIFICATION<span class="token operator">=</span>zh_CN.UTF-8
LC_ALL<span class="token operator">=</span>
<span class="token comment" spellcheck="true">#查看一下当前语系</span>
$  <span class="token function">export</span> LANG<span class="token operator">=</span>C LC_ALL<span class="token operator">=</span>C</code></pre>
<p>文件内容：</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">vi</span> regular_express.txt
<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
apple is my favorite food.
Football game is not use feet only.
this dress doesn<span class="token string">'t fit me.
However, this dress is about $ 3183 dollars.
GNU is free air not free beer.
Her hair is very beauty.
I can'</span>t finish the test.
Oh<span class="token operator">!</span> The soup taste good.
motorcycle is cheap than car.
This window is clear.
the symbol <span class="token string">'*'</span> is represented as start.
Oh<span class="token operator">!</span>    My god<span class="token operator">!</span>
The gd software is a library <span class="token keyword">for</span> drafting programs.
You are the best is mean you are the no. 1.
The world <span class="token operator">&lt;</span>Happy<span class="token operator">></span> is the same with <span class="token string">"glad"</span><span class="token keyword">.</span>
I like dog.
google is the best tools <span class="token keyword">for</span> search keyword.
goooooogle yes<span class="token operator">!</span>
go<span class="token operator">!</span> go<span class="token operator">!</span> Let's go.
<span class="token comment" spellcheck="true"># I am VBird</span>
</code></pre>
<p>文件共有 22 行,最底下一行为空白行。</p>
<h6 id="搜寻特定字符串"><a href="#搜寻特定字符串" class="headerlink" title="搜寻特定字符串"></a>搜寻特定字符串</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'the'</span> regular_express.txt
8:I can<span class="token string">'t finish the test.
12:the symbol '</span>*' is represented as start.
15:You are the best is mean you are the no. 1.
16:The world <span class="token operator">&lt;</span>Happy<span class="token operator">></span> is the same with <span class="token string">"glad"</span><span class="token keyword">.</span>
18:google is the best tools <span class="token keyword">for</span> search keyword.</code></pre>
<h6 id="反向选择"><a href="#反向选择" class="headerlink" title="反向选择"></a>反向选择</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -vn <span class="token string">'the'</span> regular_express.txt
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
2:apple is my favorite food.
3:Football game is not use feet only.
4:this dress doesn<span class="token string">'t fit me.
5:However, this dress is about $ 3183 dollars.
6:GNU is free air not free beer.
7:Her hair is very beauty.
9:Oh! The soup taste good.
10:motorcycle is cheap than car.
11:This window is clear.
13:Oh!    My god!
14:The gd software is a library for drafting programs.
17:I like dog.
19:goooooogle yes!
20:go! go! Let'</span>s go.
21:<span class="token comment" spellcheck="true"># I am VBird</span>
22:</code></pre>
<h6 id="取得不论大小写的-the-这个字符串"><a href="#取得不论大小写的-the-这个字符串" class="headerlink" title="取得不论大小写的 the 这个字符串"></a>取得不论大小写的 the 这个字符串</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -in <span class="token string">'the'</span> regular_express.txt
8:I can<span class="token string">'t finish the test.
9:Oh! The soup taste good.
12:the symbol '</span>*' is represented as start.
14:The gd software is a library <span class="token keyword">for</span> drafting programs.
15:You are the best is mean you are the no. 1.
16:The world <span class="token operator">&lt;</span>Happy<span class="token operator">></span> is the same with <span class="token string">"glad"</span><span class="token keyword">.</span>
18:google is the best tools <span class="token keyword">for</span> search keyword.</code></pre>
<ul>
<li>利用中括号 [] 来搜寻集合字符<pre class=" language-bash"><code class="language-bash">$  <span class="token function">grep</span> -n <span class="token string">'t[ae]st'</span> regular_express.txt
8:I can't finish the test.
9:Oh<span class="token operator">!</span> The soup taste good.
<span class="token comment" spellcheck="true"># 其实 [] 里面不论有几个字符,他都仅代表某『一个』字符</span></code></pre>
<h6 id="利用-取反"><a href="#利用-取反" class="headerlink" title="利用^取反"></a>利用^取反</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'oo'</span> regular_express.txt
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
2:apple is my favorite food.
3:Football game is not use feet only.
9:Oh<span class="token operator">!</span> The soup taste good.
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span>
$ <span class="token function">grep</span> -n <span class="token string">'[^g]oo'</span> regular_express.txt
2:apple is my favorite food.
3:Football game is not use feet only.
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span>
$ <span class="token function">grep</span> -n <span class="token string">'[^a-z]oo'</span> regular_express.txt
$ <span class="token function">grep</span> -n <span class="token string">'[^[:lower:]]oo'</span> regular_express.txt
3:Football game is not use feet only.
<span class="token comment" spellcheck="true"># oo 前面不想要有小写字符</span>
<span class="token comment" spellcheck="true"># [:lower:] 就是 a-z 的意思,那么 [a-z]就是 [[:lower:]]</span>
$ <span class="token function">grep</span> -n <span class="token string">'[0-9]'</span> regular_express.txt
$ <span class="token function">grep</span> -n <span class="token string">'[[:digit:]]'</span> regular_express.txt
5:However, this dress is about $ 3183 dollars.
15:You are the best is mean you are the no. 1.</code></pre>
<h6 id="行首与行尾字符"><a href="#行首与行尾字符" class="headerlink" title="行首与行尾字符 ^ $"></a>行首与行尾字符 ^ $</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'^the'</span> regular_express.txt
12:the symbol <span class="token string">'*'</span> is represented as start.
$ <span class="token function">grep</span> -n <span class="token string">'^[a-z]'</span> regular_express.txt
$ <span class="token function">grep</span> -n <span class="token string">'^[[:lower:]]'</span> regular_express.txt
2:apple is my favorite food.
4:this dress doesn<span class="token string">'t fit me.
10:motorcycle is cheap than car.
12:the symbol '</span>*<span class="token string">' is represented as start.
18:google is the best tools for search keyword.
19:goooooogle yes!
20:go! go! Let'</span>s go.
$ <span class="token function">grep</span> -n <span class="token string">'^[^a-zA-z]'</span> regular_express.txt
$ <span class="token function">grep</span> -n <span class="token string">'^[^[:alpha:]]'</span> regular_express.txt
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
21:<span class="token comment" spellcheck="true"># I am VBird</span>
<span class="token comment" spellcheck="true">#^ 符号,在字符集合符号(括号[])之内与之外是不同的! 在 [] 内代表『反向选择』</span>
<span class="token comment" spellcheck="true">#在 [] 之外则代表定位在行首的意义!</span></code></pre>
<h6 id="行尾结束为小数点"><a href="#行尾结束为小数点" class="headerlink" title="行尾结束为小数点 (.)"></a>行尾结束为小数点 (.)</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'\.$'</span> regular_express.txt
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
2:apple is my favorite food.
3:Football game is not use feet only.
4:this dress doesn<span class="token string">'t fit me.
10:motorcycle is cheap than car.
11:This window is clear.
12:the symbol '</span>*<span class="token string">' is represented as start.
15:You are the best is mean you are the no. 1.
16:The world &lt;Happy> is the same with "glad".
17:I like dog.
18:google is the best tools for search keyword.
20:go! go! Let'</span>s go.</code></pre>
<h6 id="Windows-平台的软件对于断行字符的判断问题"><a href="#Windows-平台的软件对于断行字符的判断问题" class="headerlink" title="Windows 平台的软件对于断行字符的判断问题"></a>Windows 平台的软件对于断行字符的判断问题</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">cat</span> -An regular_express.txt <span class="token operator">|</span> <span class="token function">head</span> -n 10 <span class="token operator">|</span> <span class="token function">tail</span> -n 6
5 However, this dress is about $ 3183 dollars.^M$
6 GNU is <span class="token function">free</span> air not <span class="token function">free</span> beer.^M$
7 Her hair is very beauty.^M$
8 I can't finish the test.^M$
9 Oh<span class="token operator">!</span> The soup taste good.^M$
10 motorcycle is cheap than car.$
<span class="token comment" spellcheck="true">#5~9 行为 Windows 的断行字符 (^M$) ,而正常的 Linux 应该仅有第 10 行显示的那样 ($)</span></code></pre>
</li>
<li>找出来,哪一行是『空白行』<pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'^$'</span> regular_express.txt
22:
$ <span class="token function">grep</span> -v <span class="token string">'^$'</span> /etc/rsyslog.conf <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token string">'^#'</span>
<span class="token comment" spellcheck="true"># 结果仅有 14 行,其中第一个『 -v '^$' 』代表『不要空白行』,</span>
<span class="token comment" spellcheck="true"># 第二个『 -v '^#' 』代表『不要开头是 # 的那行』喔!</span></code></pre>
<h6 id="任意一个字符-与重复字符"><a href="#任意一个字符-与重复字符" class="headerlink" title="任意一个字符 . 与重复字符 *"></a>任意一个字符 . 与重复字符 *</h6></li>
</ul>
<ul>
<li>. (小数点):代表『一定有一个任意字符』的意思;</li>
</ul>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'g..d'</span> regular_express.txt
  1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
  9:Oh<span class="token operator">!</span> The soup taste good.
  16:The world <span class="token operator">&lt;</span>Happy<span class="token operator">></span> is the same with <span class="token string">"glad"</span><span class="token keyword">.</span></code></pre>
<ul>
<li>* (星号):代表『重复前一个字符, 0 到无穷多次』的意思,为组合形态<pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -n <span class="token string">'ooo*'</span> regular_express.txt
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
2:apple is my favorite food.
3:Football game is not use feet only.
9:Oh<span class="token operator">!</span> The soup taste good.
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span>
$ <span class="token function">grep</span> -n <span class="token string">'goo*g'</span> regular_express.txt
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span>
$ <span class="token function">grep</span> -n <span class="token string">'g*g'</span> regular_express.txt
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
3:Football game is not use feet only.
9:Oh<span class="token operator">!</span> The soup taste good.
13:Oh<span class="token operator">!</span>
My god<span class="token operator">!</span>
14:The gd software is a library <span class="token keyword">for</span> drafting programs.
16:The world <span class="token operator">&lt;</span>Happy<span class="token operator">></span> is the same with <span class="token string">"glad"</span><span class="token keyword">.</span>
17:I like dog.
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span>
20:go<span class="token operator">!</span> go<span class="token operator">!</span> Let<span class="token string">'s go.
$ grep -n '</span>g.*g<span class="token string">' regular_express.txt
1:"Open Source" is a good mechanism to develop programs.
14:The gd software is a library for drafting programs.18:google is the best tools for search keyword.
19:goooooogle yes!
20:go! go! Let'</span>s go.
$ <span class="token function">grep</span> -n <span class="token string">'[0-9][0-9]*'</span> regular_express.txt
5:However, this dress is about $ 3183 dollars.
15:You are the best is mean you are the no. 1.</code></pre>
<h6 id="限定连续-RE-字符范围"><a href="#限定连续-RE-字符范围" class="headerlink" title="限定连续 RE 字符范围 {}"></a>限定连续 RE 字符范围 {}</h6>因为 { 与 } 的符号在 shell 是有特殊意义的,因此, 我们必须要使用跳脱字符 \ 来让他失去特殊意义才行。<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 找到两个 o</span>
1:<span class="token string">"Open Source"</span> is a good mechanism to develop programs.
$ <span class="token function">grep</span> -n <span class="token string">'o\{2\}'</span> regular_express.txt
2:apple is my favorite food.
3:Football game is not use feet only.
9:Oh<span class="token operator">!</span> The soup taste good.
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span>
<span class="token comment" spellcheck="true"># g 后面接 2 到 5 个 o ,然后再接一个 g 的字符串</span>
$ <span class="token function">grep</span> -n <span class="token string">'go\{2,5\}g'</span> regular_express.txt
18:google is the best tools <span class="token keyword">for</span> search keyword.
$ <span class="token function">grep</span> -n <span class="token string">'go\{2,\}g'</span> regular_express.txt
18:google is the best tools <span class="token keyword">for</span> search keyword.
19:goooooogle yes<span class="token operator">!</span></code></pre>
</li>
</ul>
<h5 id="基础正则表达式字符集合"><a href="#基础正则表达式字符集合" class="headerlink" title="基础正则表达式字符集合"></a>基础正则表达式字符集合</h5><table>
<thead>
<tr>
<th>RE 字符</th>
<th>意义与范例</th>
</tr>
</thead>
<tbody><tr>
<td>^word</td>
<td>意义:待搜寻的字符串(word)在行首</td>
</tr>
<tr>
<td>word$</td>
<td>意义:待搜寻的字符串(word)在行尾</td>
</tr>
<tr>
<td>.</td>
<td>意义:代表『一定有一个任意字符』的字符</td>
</tr>
<tr>
<td>\</td>
<td>意义:跳脱字符,将特殊符号的特殊意义去除</td>
</tr>
<tr>
<td>*</td>
<td>意义:重复零个到无穷多个的前一个 RE 字符</td>
</tr>
<tr>
<td>[list]</td>
<td>意义:字符集合的 RE 字符,里面列出想要撷取的字符</td>
</tr>
<tr>
<td>[n1-n2]</td>
<td>意义:字符集合的 RE 字符,里面列出想要撷取的字符范围</td>
</tr>
<tr>
<td>[^list]</td>
<td>意义:字符集合的 RE 字符,里面列出不要的字符串或范围</td>
</tr>
<tr>
<td>{n,m}</td>
<td>意义:连续 n 到 m 个的『前一个 RE 字符』意义:若为 {n} 则是连续 n 个的前一个 RE 字符,意义:若是 {n,} 则是连续 n 个以上的前一个 RE 字符!</td>
</tr>
</tbody></table>
<p><strong><em>『正则表达式的特殊字符』与一般在指令列输入指令的『通配符』并不相同。</em></strong><br>通配符当中的 * 代表的是『 0 ~ 无限多个字符』的意思,但是在正则表达式当中, * 则是『重复 0<br>到无穷多个的前一个 RE 字符』的意思</p>
<h5 id="sed工具"><a href="#sed工具" class="headerlink" title="sed工具"></a>sed工具</h5><p>sed 本身是一个管线命令,可以分析 standard input。 而且 sed还可以将数据进行取代、删除、新增、截取特定行等等的功能。</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sed</span> <span class="token punctuation">[</span>-nefr<span class="token punctuation">]</span> <span class="token punctuation">[</span>动作<span class="token punctuation">]</span>
选项与参数:
-n :使用安静<span class="token punctuation">(</span>silent<span class="token punctuation">)</span>模式。在一般 <span class="token function">sed</span> 的用法中,所有来自 STDIN 的数据一般都会被列出到屏幕上。
但如果加上 -n 参数后,则只有经过 <span class="token function">sed</span> 特殊处理的那一行<span class="token punctuation">(</span>或者动作<span class="token punctuation">)</span>才会被列出来。
-e :直接在指令列模式上进行 <span class="token function">sed</span> 的动作编辑<span class="token punctuation">;</span>-f :直接将 <span class="token function">sed</span> 的动作写在一个文件内, -f filename 则可以执行 filename 内的 <span class="token function">sed</span> 动作<span class="token punctuation">;</span>
-r :sed 的动作支持的是延伸型正则表达式的语法。<span class="token punctuation">(</span>预设是基础正则表达式语法<span class="token punctuation">)</span>
-i :直接修改读取的文件内容,而不是由屏幕输出。
动作说明:
<span class="token punctuation">[</span>n1<span class="token punctuation">[</span>,n2<span class="token punctuation">]</span><span class="token punctuation">]</span>function
n1, n2 :不见得会存在,一般代表『选择进行动作的行数』,举例来说,如果我的动作
是需要在 10 到 20 行之间进行的,则『 10,20<span class="token punctuation">[</span>动作行为<span class="token punctuation">]</span> 』

<span class="token keyword">function</span> ：
a :新增, a 的后面可以接字符串,而这些字符串会在新的一行出现<span class="token punctuation">(</span>目前的下一行<span class="token punctuation">)</span>~
c :取代, c 的后面可以接字符串,这些字符串可以取代 n1,n2 之间的行<span class="token operator">!</span>
d :删除,因为是删除啊,所以 d 后面通常不接任何咚咚<span class="token punctuation">;</span>
i :插入, i 的后面可以接字符串,而这些字符串会在新的一行出现<span class="token punctuation">(</span>目前的上一行<span class="token punctuation">)</span><span class="token punctuation">;</span>
p :打印,亦即将某个选择的数据印出。通常 p 会与参数 <span class="token function">sed</span> -n 一起运作~
s :取代,可以直接进行取代的工作哩<span class="token operator">!</span>通常这个 s 的动作可以搭配正则表达式<span class="token operator">!</span>
例如 1,20s/old/new/g 就是啦</code></pre>
<ul>
<li>以行为单位的新增/删除功能<pre class=" language-bash"><code class="language-bash">$ <span class="token function">nl</span> /etc/passwd <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'2,5d'</span>
   1    root:x:0:0:root:/root:/bin/bash
   6    games:x:5:60:games:/usr/games:/usr/sbin/nologin
   7    man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
<span class="token comment" spellcheck="true">#,原本应该是要下达 sed -e 才对,没有 -e 也行</span>
$  <span class="token function">nl</span> /etc/passwd <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'2a Drink tea or ......\
> or drink beer ?'</span>
   1    root:x:0:0:root:/root:/bin/bash
   2    daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
Drink tea or <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
or drink beer ?
   3    bin:x:2:2:bin:/bin:/usr/sbin/nologin</code></pre>
<h6 id="以行为单位的取代与显示功能"><a href="#以行为单位的取代与显示功能" class="headerlink" title="以行为单位的取代与显示功能"></a>以行为单位的取代与显示功能</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">nl</span> /etc/passwd <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'2,5c NO 2-5 number'</span>
  1    root:x:0:0:root:/root:/bin/bash
NO 2-5 number
  6    games:x:5:60:games:/usr/games:/usr/sbin/nologin
$ <span class="token function">nl</span> /etc/passwd <span class="token operator">|</span> <span class="token function">sed</span> -n <span class="token string">'5,7p'</span>
       5    sync:x:4:65534:sync:/bin:/bin/sync
       6    games:x:5:60:games:/usr/games:/usr/sbin/nologin
       7    man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</code></pre>
<h6 id="部分数据的搜寻并取代的功能"><a href="#部分数据的搜寻并取代的功能" class="headerlink" title="部分数据的搜寻并取代的功能"></a>部分数据的搜寻并取代的功能</h6></li>
</ul>
<p>sed 的搜寻与取代的与 vi 相当的类似</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">sed</span> <span class="token string">'s/要被取代的字符串/新的字符串/g'</span>
$ /sbin/ifconfig eth0
eth0: flags<span class="token operator">=</span>4163<span class="token operator">&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">></span>
inet 192.168.1.100
mtu 1500
netmask 255.255.255.0
inet6 fe80::5054:ff:fedf:e174
ether 52:54:00:df:e1:74
broadcast 192.168.1.255
prefixlen 64
txqueuelen 1000
scopeid 0x20<span class="token operator">&lt;</span>link<span class="token operator">></span>
<span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
$ /sbin/ifconfig eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'inet '</span>
inet 192.168.1.100
netmask 255.255.255.0
broadcast 192.168.1.255
<span class="token comment" spellcheck="true"># 当场仅剩下一行!要注意, CentOS 7 与 CentOS 6 以前的 ifconfig 指令输出结果不太相同,</span>
<span class="token comment" spellcheck="true"># 鸟哥这个范例主要是针对 CentOS 7 以后的喔!接下来,我们要将开始到 addr: 通通删除,</span>
<span class="token comment" spellcheck="true"># 就是像底下这样:</span>
<span class="token comment" spellcheck="true"># inet 192.168.1.100 netmask 255.255.255.0</span>
<span class="token comment" spellcheck="true"># 上面的删除关键在于『 ^.*inet broadcast 192.168.1.255』啦!正则表达式出现! ^_^</span>

$ /sbin/ifconfig eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'inet '</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/^.*inet //g'</span>
192.168.1.100
netmask 255.255.255.0
broadcast 192.168.1.255
<span class="token comment" spellcheck="true"># 仔细与上个步骤比较一下,前面的部分不见了!接下来则是删除后续的部分,亦即:</span>
192.168.1.100
netmask 255.255.255.0
broadcast 192.168.1.255
<span class="token comment" spellcheck="true"># 此时所需的正则表达式为:『 ' *netmask.*$ 』就是啦!</span>
$ /sbin/ifconfig eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'inet '</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/^.*inet //g'</span> \
<span class="token operator">></span><span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/ *netmask.*$//g'</span>
192.168.1.100

$ <span class="token function">cat</span> /etc/man_db.conf <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'MAN'</span>
<span class="token comment" spellcheck="true"># MANDATORY_MANPATH</span>
manpath_element
<span class="token comment" spellcheck="true"># MANPATH_MAP path_element manpath_element</span>
<span class="token comment" spellcheck="true"># MANDB_MAP global_manpath [relative_catpath]</span>
<span class="token comment" spellcheck="true"># every automatically generated MANPATH includes these fields</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">(</span>后面省略<span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">..</span>

删除掉批注之后的数据<span class="token operator">!</span>
$ <span class="token function">cat</span> /etc/man_db.conf <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'MAN'</span><span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/#.*$//g'</span>



MANDATORY_MANPATH
/usr/man
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">(</span>后面省略<span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token comment" spellcheck="true"># 从上面可以看出来,原本批注的数据都变成空白行啦!所以,接下来要删除掉空白行</span>
$ <span class="token function">cat</span> /etc/man_db.conf <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'MAN'</span><span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/#.*$//g'</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'/^$/d'</span>
MANDATORY_MANPATH /usr/man
MANDATORY_MANPATH /usr/share/man
MANDATORY_MANPATH /usr/local/share/man
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">(</span>后面省略<span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">..</span></code></pre>
<h6 id="直接修改文件内容-危险动作"><a href="#直接修改文件内容-危险动作" class="headerlink" title="直接修改文件内容(危险动作)"></a>直接修改文件内容(危险动作)</h6><pre class=" language-bash"><code class="language-bash">$ <span class="token function">sed</span> -i <span class="token string">'s/\.$/\!/g'</span> regular_express.txt
<span class="token comment" spellcheck="true"># 上头的 -i 选项可以让你的 sed 直接去修改后面接的文件内容而不是由屏幕输出喔!</span>
<span class="token comment" spellcheck="true"># 这个范例是用在取代!请您自行 cat 该文件去查阅结果啰</span>
<span class="token function">sed</span> -i <span class="token string">'<span class="token variable">$a</span> # This is a test'</span> regular_express.txt</code></pre>
<p>sed 的『 -i 』选项可以直接修改文件内容,这功能非常有帮助!举例来说,如果你有一个 100 万行<br>的文件,你要在第 100 行加某些文字,此时使用 vim 可能会疯掉!因为文件太大了!那怎办?就利<br>用 sed 啊!透过 sed 直接修改/取代的功能,你甚至不需要使用 vim 去修订!</p>
<h4 id="扩展正则表达式"><a href="#扩展正则表达式" class="headerlink" title="扩展正则表达式"></a>扩展正则表达式</h4><pre class=" language-bash"><code class="language-bash">$ <span class="token function">grep</span> -v <span class="token string">'^$'</span> regular_express.txt <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token string">'^#'</span></code></pre>
<p>需要使用到管线命令来搜寻两次!那么如果使用延伸型的正则表达式,我们可以简化为:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token function">egrep</span> -v <span class="token string">'^$|^#'</span> regular_express.txt</code></pre>
<table>
<thead>
<tr>
<th>RE 字符</th>
<th>意义与范例</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>意义:重复『一个或一个以上』的前一个 RE 字符</td>
</tr>
<tr>
<td>?</td>
<td>意义:『零个或一个』的前一个 RE 字符</td>
</tr>
<tr>
<td>|</td>
<td>意义:用或( or )的方式找出数个字符串</td>
</tr>
<tr>
<td>()</td>
<td>意义:找出『群组』字符串</td>
</tr>
<tr>
<td>()+</td>
<td>意义:多个重复群组的判别</td>
</tr>
</tbody></table>
<h4 id="文件的格式化与相关处理"><a href="#文件的格式化与相关处理" class="headerlink" title="文件的格式化与相关处理"></a>文件的格式化与相关处理</h4><h5 id="格式化打印：printf"><a href="#格式化打印：printf" class="headerlink" title="格式化打印：printf"></a>格式化打印：printf</h5><pre class=" language-bash"><code class="language-bash">$ <span class="token function">printf</span> <span class="token string">'打印格式'</span> 实际内容
选项与参数:
关于格式方面的几个特殊样式:
\a 警告声音输出
\b 退格键<span class="token punctuation">(</span>backspace<span class="token punctuation">)</span>
\f 清除屏幕 <span class="token punctuation">(</span>form feed<span class="token punctuation">)</span>
\n 输出新的一行
\r 亦即 Enter 按键
\t 水平的 <span class="token punctuation">[</span>tab<span class="token punctuation">]</span> 按键
\v 垂直的 <span class="token punctuation">[</span>tab<span class="token punctuation">]</span> 按键
\xNN NN 为两位数的数字,可以转换数字成为字符。
关于 C 程序语言内,常见的变数格式
%ns 那个 n 是数字, s 代表 string ,亦即多少个字符<span class="token punctuation">;</span>
%ni 那个 n 是数字, i 代表 integer ,亦即多少整数字数<span class="token punctuation">;</span>
%N.nf 那个 n 与 N 都是数字, f 代表 floating <span class="token punctuation">(</span>浮点<span class="token punctuation">)</span>,如果有小数字数,
假设我共要十个位数,但小数点有两位,即为 %10.2f 啰<span class="token operator">!</span></code></pre>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">printf</span> <span class="token string">'%s\t %s\t %s\t %s\t %s\t \n'</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> printf.txt<span class="token variable">)</span></span>
Name     Chinese     English     Math     Average
DmTsai     80     60     92     77.33
VBird     75     55     80     70.00
Ken     60     90     70     73.33
$ <span class="token function">printf</span> <span class="token string">'%10s %5i %5i %5i %8.2f \n'</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> printf.txt <span class="token operator">|</span> <span class="token function">grep</span> -v Name<span class="token variable">)</span></span>
DmTsai 80 60 92 77.33
VBird 75 55 80 70.00
Ken 60 90 70 73.33</code></pre>
<p>printf 除了可以格式化处理之外,他还可以依据 ASCII 的数字与图形对应来显示数据(注 3)! 举<br>例来说 16 进位的 45 可以得到什么 ASCII 的显示图 (其实是字符)?</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">printf</span> <span class="token string">'\x45\n'</span>
E
<span class="token comment" spellcheck="true"># 这东西也很好玩~他可以将数值转换成为字符,如果你会写 script 的话,</span>
<span class="token comment" spellcheck="true"># 可以自行测试一下,由 20~80 之间的数值代表的字符是啥喔! ^_^</span></code></pre>
<h5 id="awk数据处理工具"><a href="#awk数据处理工具" class="headerlink" title="awk数据处理工具"></a>awk数据处理工具</h5><p>awk 也是一个非常棒的数据处理工具!相较于 sed 常常作用于一整个行的处理, awk 则比较倾向<br>于一行当中分成数个『字段』来处理。</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">awk</span> <span class="token string">'条件类型 1{动作 1} 条件类型 2{动作 2} ...'</span> filename</code></pre>
<p>awk 主要是处理『每一行的字段内的数据』,而默认的『字段的分隔符为 “空格键” 或 “[tab]键” 』</p>
<pre class=" language-bash"><code class="language-bash">last -n 5
jason    pts/0        j                Tue May 21 13:40   still logged <span class="token keyword">in</span>
jason    :1           :1               Tue May 21 13:40   still logged <span class="token keyword">in</span>
<span class="token function">reboot</span>   system boot  4.15.0-50-generi Tue May 21 13:40   still running
jason    pts/0        j                Tue May 21 09:21 - down   <span class="token punctuation">(</span>03:00<span class="token punctuation">)</span>
jason    :1           :1               Tue May 21 09:21 - 12:22  <span class="token punctuation">(</span>03:00<span class="token punctuation">)</span>

wtmp begins Fri May  3 22:10:08 2019
$ last -n 5 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$1</span> "\t" <span class="token variable">$4</span>"\t"<span class="token variable">$5</span>}'</span>
jason    Tue    May
jason    Tue    May
<span class="token function">reboot</span>    4.15.0-50-generi    Tue
jason    Tue    May
jason    Tue    May

wtmp    May    3</code></pre>
<p>每一行的每个字段都是有变量名称的,那就是 $1, $2… 等变量名称</p>
<ul>
<li>读入第一行,并将第一行的资料填入 $0, $1, $2…. 等变数当中;</li>
<li>依据 “条件类型” 的限制,判断是否需要进行后面的 “动作”;</li>
<li>做完所有的动作与条件类型;</li>
<li>若还有后续的『行』的数据,则重复上面 1~3 的步骤,直到所有的数据都读完为止。</li>
</ul>
<p>awk 是『以行为一次处理的单位』, 而『以字段为最小的处理单位』</p>
<p>| 变量名称| 代表意义|<br>| NF | 每一行 ($0) 拥有的字段总数 |<br>| NR | 目前 awk 所处理的是『第几行』数据 |<br>| FS | 目前的分隔字符,默认是空格键 |</p>
<p>awk 后续的所有动作是以单引号『 ‘ 』括住的,由于单引号与双引号都必须是成对的, 所以, awk 的格式内容如果想要以 print 打印时,记得非变量的文字部分,包含上一小节 printf 提到的格式中,都需要使用双引号来定义出来!因为单引号已经是 awk 的指令固定用法了!</p>
<pre class=" language-bash"><code class="language-bash">last -n 5 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$1</span> "\t lines: " NR"\t colums: " NF}'</span>
jason     lines: 1     colums: 10
jason     lines: 2     colums: 10
<span class="token function">reboot</span>     lines: 3     colums: 10
jason     lines: 4     colums: 10
jason     lines: 5     colums: 10
     lines: 6     colums: 0
wtmp     lines: 7     colums: 7</code></pre>
<ul>
<li>awk 的逻辑运算字符<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{FS=":"} <span class="token variable">$3</span> &lt; 10 {print <span class="token variable">$1</span> "\t" <span class="token variable">$3</span>}'</span>
root:x:0:0:root:/root:/bin/bash
daemon    1
bin    2
sys    3
<span class="token function">sync</span>    4
games    5
<span class="token function">man</span>    6
lp    7
mail    8
news    9</code></pre>
因为我们读入第一行的时候,那些变数 $1,$2… 默认还是以空格键为分隔的,所以虽然我们定义了 FS=”:” 了, 但是却仅能在第二行后才开始生效。<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN {FS=":"} <span class="token variable">$3</span> &lt; 10 {print <span class="token variable">$1</span> "\t " <span class="token variable">$3</span>}'</span>
root 0
bin 1
daemon 2
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">(</span>以下省略<span class="token punctuation">)</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></code></pre>
假设我有一个薪资数据表档名为 pay.txt ,内容是这样的:<pre><code>Name     1st   2nd   3th
VBird  23000 24000 25000
DMTsai 21000 20000 23000
Bird2  43000 42000 41000</code></pre></li>
<li>第一行只是说明,所以第一行不要进行加总 (NR==1 时处理);</li>
<li>第二行以后就会有加总的情况出现 (NR&gt;=2 以后处理)<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cat</span> pay.txt <span class="token operator">|</span>  <span class="token function">awk</span> <span class="token string">'NR==1{printf "%10s %10s %10s %10s %10s\n",<span class="token variable">$1</span>,<span class="token variable">$2</span>,<span class="token variable">$3</span>,<span class="token variable">$4</span>,"Total" }
NR>=2{total = <span class="token variable">$2</span> + <span class="token variable">$3</span> + <span class="token variable">$4</span>
printf "%10s %10d %10d %10d %10.2f\n", <span class="token variable">$1</span>, <span class="token variable">$2</span>, <span class="token variable">$3</span>, <span class="token variable">$4</span>, total}'</span>
    Name        1st        2nd        3th      Total
   VBird      23000      24000      25000   72000.00
  DMTsai      21000      20000      23000   64000.00
   Bird2      43000      42000      41000  126000.00</code></pre>
</li>
<li>awk 的指令间隔:所有 awk 的动作,亦即在 {} 内的动作,如果有需要多个指令辅助时,可利用分号『;』间隔, 或者直接以 [Enter] 按键来隔开每个指令,例如上面的范例中,鸟哥共按了三次 [enter] 喔!</li>
<li>逻辑运算当中,如果是『等于』的情况,则务必使用两个等号『==』!</li>
<li>格式化输出时,在 printf 的格式设定当中,务必加上 \n ,才能进行分行!</li>
<li>与 bash shell 的变量不同,在 awk 当中,变量可以直接使用,不需加上 $ 符号。</li>
</ul>
<p>awk的动作内 {} 也是支持 if (条件) 的</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cat</span> pay.txt <span class="token operator">|</span> \
<span class="token operator">></span> <span class="token function">awk</span> <span class="token string">'{if(NR==1) printf "%10s %10s %10s %10s %10s\n",<span class="token variable">$1</span>,<span class="token variable">$2</span>,<span class="token variable">$3</span>,<span class="token variable">$4</span>,"Total"}
> NR>=2{total = <span class="token variable">$2</span> + <span class="token variable">$3</span> + <span class="token variable">$4</span>
> printf "%10s %10d %10d %10d %10.2f\n", <span class="token variable">$1</span>, <span class="token variable">$2</span>, <span class="token variable">$3</span>, <span class="token variable">$4</span>, total}'</span></code></pre>
<h5 id="文件比对工具"><a href="#文件比对工具" class="headerlink" title="文件比对工具"></a>文件比对工具</h5><p><strong><em>同一个软件包的不同版本之间,比较配置文件与原始档的差异</em></strong></p>
<h6 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h6><p>diff 就是用在比对两个文件之间的差异的,并且是以行为单位来比对的!一般是用在 ASCII 纯文本<br>档的比对上。 由于是以行为比对的单位,因此 <strong><em>diff 通常是用在同一的文件(或软件)的新旧版本差异上</em></strong></p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">mkdir</span> -p /tmp/testpw <span class="token operator">&lt;=</span><span class="token operator">=</span>先建立测试用的目录
$ <span class="token function">cd</span> /tmp/testpw
$ <span class="token function">cp</span> /etc/passwd passwd.old
$ <span class="token function">cat</span> /etc/passwd <span class="token operator">|</span> <span class="token function">sed</span> -e <span class="token string">'4d'</span> -e <span class="token string">'6c no six line'</span> <span class="token operator">></span> passwd.new
<span class="token comment" spellcheck="true"># 注意一下, sed 后面如果要接超过两个以上的动作时,每个动作前面得加 -e 才行!</span>
<span class="token comment" spellcheck="true"># 透过这个动作,在 /tmp/testpw 里面便有新旧的 passwd 文件存在了!</span>
$ <span class="token function">diff</span> <span class="token punctuation">[</span>-bBi<span class="token punctuation">]</span> from-file to-file
选项与参数:
from-file :一个档名,作为原始比对文件的档名<span class="token punctuation">;</span>
to-file :一个档名,作为目的比对文件的档名<span class="token punctuation">;</span>
注意,from-file 或 to-file 可以 - 取代,那个 - 代表『Standard input』之意。
-b :忽略一行当中,仅有多个空白的差异<span class="token punctuation">(</span>例如 <span class="token string">"about me"</span> 与 <span class="token string">"about         me"</span> 视为相同
-B :忽略空白行的差异。
-i :忽略大小写的不同。
$ <span class="token function">diff</span> passwwd.old passwd.new
4d3
<span class="token operator">&lt;</span> sys:x:3:3:sys:/dev:/usr/sbin/nologin
6c5
<span class="token operator">&lt;</span> games:x:5:60:games:/usr/games:/usr/sbin/nologin
---
<span class="token operator">></span> no six line</code></pre>
<p>不要用 diff 去比对两个完全不相干的文件,因为比不出</p>
<p>diff 也可以比对整个目录下的差异</p>
<p>举例来说,我们想要了解一下不同的开机执行等级 (runlevel) 内容有啥不同?假设你已经知道执行等级 0 与 5 的启动脚本分别放置到/etc/rc0.d 及 /etc/rc5.d , 则我们可以将两个目录比对一下:</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">diff</span> /etc/rc0.d/ /etc/rc5.d/
Only <span class="token keyword">in</span> /etc/rc0.d/: K01alsa-utils
Only <span class="token keyword">in</span> /etc/rc0.d/: K01avahi-daemon</code></pre>
<h6 id="cmp"><a href="#cmp" class="headerlink" title="cmp"></a>cmp</h6><p>cmp 主要也是在比对两个文件,他主要利用『字节』单位去比对, 因此,当然也可以比对 binary file</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cmp</span> passwd.old passwd.new
passwd.old passwd.new differ: byte 120, line 4
<span class="token comment" spellcheck="true">#第一个发现的不同点在第四行,而且字节数是在第 120 个字节处</span></code></pre>
<h6 id="patch"><a href="#patch" class="headerlink" title="patch"></a>patch</h6><p>将旧的文件升级成为新的文件</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">diff</span> -Naur passwd.old passwd.new <span class="token operator">></span> passwd.patch
$ <span class="token function">cat</span> passwd.patch
--- passwd.old 2015-07-14 22:37:43.322535054 +0800
+++ passwd.new 2015-07-14 22:38:03.010535054 +0800
@@ -1,9 +1,8 @@
<span class="token operator">&lt;=</span><span class="token operator">=</span>新旧文件的信息
<span class="token operator">&lt;=</span><span class="token operator">=</span>新旧文件要修改数据的界定范围,旧档在 1-9 行,新檔在 1-8 行
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
-adm:x:3:4:adm:/var/adm:/sbin/nologin
<span class="token operator">&lt;=</span><span class="token operator">=</span>左侧文件删除
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
-sync:x:5:0:sync:/sbin:/bin/sync <span class="token operator">&lt;=</span><span class="token operator">=</span>左侧文件删除
+no six line <span class="token operator">&lt;=</span><span class="token operator">=</span>右侧新档加入
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
$ patch -pN <span class="token operator">&lt;</span> patch_file <span class="token operator">&lt;=</span><span class="token operator">=</span>更新
$ patch -R -pN <span class="token operator">&lt;</span> patch_file <span class="token operator">&lt;=</span><span class="token operator">=</span>还原
选项与参数:
-p :后面可以接『取消几层目录』的意思。
-R :代表还原,将新的文件还原成原来旧的版本。
patch -p0 <span class="token operator">&lt;</span> passwd.patch
patching <span class="token function">file</span> passwd.old
$ ll passwd*
-rw-r--r-- 1 jason jason 2433 5月  21 17:52 passwd.new
-rw-r--r-- 1 jason jason  515 5月  21 18:13 passwd.new.rej
-rw-r--r-- 1 jason jason 2433 5月  21 18:13 passwd.old
-rw-r--r-- 1 jason jason  514 5月  21 18:13 passwd.patch
</code></pre>
<p>这里会使用 -p0 呢?因为我们在比对新旧版的数据时是在同一个目录下, 因此不需要减去目<br>录</p>
<h5 id="文件打印设置：pr"><a href="#文件打印设置：pr" class="headerlink" title="文件打印设置：pr"></a>文件打印设置：pr</h5><p>如果你曾经使用过一些图形接口的文字处理软件的话,那么很容易发现,当我们在打印的时候, 可<br>以同时选择与设定每一页打印时的标头</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">pr</span> /etc/man_db.conf</code></pre>
<h3 id="重点回顾"><a href="#重点回顾" class="headerlink" title="重点回顾"></a>重点回顾</h3><ul>
<li>正规表示法就是处理字符串的方法,他是以行为单位来进行字符串的处理行为;</li>
<li>正规表示法透过一些特殊符号的辅助,可以让使用者轻易的达到『搜寻/删除/取代』某特定字符串的处理程序;<br>只要工具程序支持正规表示法,那么该工具程序就可以用来作为正规表示法的字符串处理之用;</li>
<li>正规表示法与通配符是完全不一样的东西!通配符 (wildcard) 代表的是 bash 操作接口的一个功能, 但正规表示法则是一种字符串处理的表示方式!</li>
<li>使用 grep 或其他工具进行正规表示法的字符串比对时,因为编码的问题会有不同的状态,因此, 你最好<br>将 LANG 等变量设定为 C 或者是 en 等英文语系!</li>
<li>由于编码系统的不同,不同的语系 (LANG) 会造成正规表示法撷取资料的差异。因此可利用特殊符号如<br>[:upper:] 来替代编码范围较佳;</li>
<li>基础正规表示法的特殊字符有: *, ., [], [-], [^], ^, $ 等!</li>
<li>常见的支持正规表示法的工具软件有: grep , sed, vim 等等</li>
<li>printf 可以透过一些特殊符号来将数据进行格式化输出;</li>
<li>awk 可以使用『字段』为依据,进行数据的重新整理与输出;</li>
<li>文件的比对中,可利用 diff 及 cmp 进行比对,其中 diff 主要用在纯文本文件方面的新旧版本比对</li>
<li>patch 指令可以将旧版数据更新到新版 (主要亦由 diff 建立 patch 的补丁来源文件)</li>
</ul>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Jinzhengxu</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://jinzhengxu.github.io/2019/05/19/niao-ge-de-linux-si-fang-cai-8-zheng-ze-biao-da-shi-yu-wen-jian-ge-shi-hua-chu-li/">http://jinzhengxu.github.io/2019/05/19/niao-ge-de-linux-si-fang-cai-8-zheng-ze-biao-da-shi-yu-wen-jian-ge-shi-hua-chu-li/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Jinzhengxu</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Linux/">
                                    <span class="chip bg-color">Linux</span>
                                </a>
                            
                                <a href="/tags/正则表达式/">
                                    <span class="chip bg-color">正则表达式</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '7C9WIr1xTDwYs88TkPA1W0ua-gzGzoHsz',
        appKey: 'AzaMuy0kYyiPgMrnYKQALlNS',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2019/05/22/niao-ge-de-linux-si-fang-cai-9-shell-scripts/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="鸟哥的Linux私房菜-9-Shell Scripts">
                        
                        <span class="card-title">鸟哥的Linux私房菜-9-Shell Scripts</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            shell脚本就是将一些命令集合起来一起执行，类似于程序的编写，但是不需要compile
What is Shell ScriptsShell脚本是利用shell功能所写的一个 程序Program 。这个程序是使用纯文本文件，将一些shel
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2019-05-22
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/程序设计/" class="post-category">
                                    程序设计
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Linux/">
                        <span class="chip bg-color">Linux</span>
                    </a>
                    
                    <a href="/tags/Shell-Scripts/">
                        <span class="chip bg-color">Shell Scripts</span>
                    </a>
                    
                    <a href="/tags/Shell/">
                        <span class="chip bg-color">Shell</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/05/09/ji-qi-xue-xi-shi-yan-iris-jiao-cheng/">
                    <div class="card-image">
                        
                        <img src="https://s2.ax1x.com/2019/05/20/EzPu0x.png" class="responsive-img" alt="机器学习实验--Iris">
                        
                        <span class="card-title">机器学习实验--Iris</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            背景介绍数据下载这可能是模式识别文献中最著名的数据库。费舍尔的论文是该领域的经典之作，至今仍被频繁引用。（例如，参见Duda＆Hart。）数据集包含3个类别，每个类别50个实例，其中每个类别指的是一种鸢尾花。一类可以与另一类线性判别; 后者
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2019-05-09
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/机器学习/" class="post-category">
                                    机器学习
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/机器学习/">
                        <span class="chip bg-color">机器学习</span>
                    </a>
                    
                    <a href="/tags/线性判别/">
                        <span class="chip bg-color">线性判别</span>
                    </a>
                    
                    <a href="/tags/支持向量机/">
                        <span class="chip bg-color">支持向量机</span>
                    </a>
                    
                    <a href="/tags/主成分分析/">
                        <span class="chip bg-color">主成分分析</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">Jinzhengxu</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Jinzhengxu" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jzxttzdq@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>









    <a href="https://icpc.baylor.edu/ICPCID/0OD0ZXI7SQQL" class="tooltipped" target="_blank" data-tooltip="我的ICPCID: https://icpc.baylor.edu/ICPCID/0OD0ZXI7SQQL" data-position="top" data-delay="50">
        <i class="fas fa-lightbulb"></i>
    </a>





    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
